(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-47ce4eca"],{1276:function(t,e,r){"use strict";var i=r("d784"),a=r("44e7"),n=r("825a"),s=r("1d80"),o=r("4840"),c=r("8aa5"),l=r("50c4"),h=r("14c3"),p=r("9263"),u=r("9f7f"),d=u.UNSUPPORTED_Y,f=[].push,v=Math.min,m=4294967295;i("split",2,(function(t,e,r){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var i=String(s(this)),n=void 0===r?m:r>>>0;if(0===n)return[];if(void 0===t)return[i];if(!a(t))return e.call(i,t,n);var o,c,l,h=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,v=new RegExp(t.source,u+"g");while(o=p.call(v,i)){if(c=v.lastIndex,c>d&&(h.push(i.slice(d,o.index)),o.length>1&&o.index<i.length&&f.apply(h,o.slice(1)),l=o[0].length,d=c,h.length>=n))break;v.lastIndex===o.index&&v.lastIndex++}return d===i.length?!l&&v.test("")||h.push(""):h.push(i.slice(d)),h.length>n?h.slice(0,n):h}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:e.call(this,t,r)}:e,[function(e,r){var a=s(this),n=void 0==e?void 0:e[t];return void 0!==n?n.call(e,a,r):i.call(String(a),e,r)},function(t,a){var s=r(i,t,this,a,i!==e);if(s.done)return s.value;var p=n(t),u=String(this),f=o(p,RegExp),y=p.unicode,g=(p.ignoreCase?"i":"")+(p.multiline?"m":"")+(p.unicode?"u":"")+(d?"g":"y"),x=new f(d?"^(?:"+p.source+")":p,g),b=void 0===a?m:a>>>0;if(0===b)return[];if(0===u.length)return null===h(x,u)?[u]:[];var I=0,k=0,C=[];while(k<u.length){x.lastIndex=d?0:k;var w,H=h(x,d?u.slice(k):u);if(null===H||(w=v(l(x.lastIndex+(d?k:0)),u.length))===I)k=c(u,k,y);else{if(C.push(u.slice(I,k)),C.length===b)return C;for(var T=1;T<=H.length-1;T++)if(C.push(H[T]),C.length===b)return C;k=I=w}}return C.push(u.slice(I)),C}]}),d)},"14c3":function(t,e,r){var i=r("c6b6"),a=r("9263");t.exports=function(t,e){var r=t.exec;if("function"===typeof r){var n=r.call(t,e);if("object"!==typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},4173:function(t,e,r){"use strict";r.d(e,"a",(function(){return a})),r.d(e,"b",(function(){return s}));r("7db0");function i(){var t=[];return t.push({pattern:1,matrixIndexes:[[0,-1,-1],[1,-1,-1],[0,-1,-1]]}),t.push({pattern:2,matrixIndexes:[[0,0,0],[0,1,0],[0,0,0]]}),t.push({pattern:3,matrixIndexes:[[0,0,-1],[1,1,-1],[0,0,-1]]}),t.push({pattern:4,matrixIndexes:[[-1,0,0],[-1,1,1],[-1,0,0]]}),t.push({pattern:5,matrixIndexes:[[1,-1,-1],[1,-1,-1],[1,-1,-1]]}),t.push({pattern:6,matrixIndexes:[[0,1,0],[0,1,0],[0,1,0]]}),t.push({pattern:7,matrixIndexes:[[-1,-1,1],[-1,-1,1],[-1,-1,1]]}),t.push({pattern:8,matrixIndexes:[[0,0,0],[1,1,1],[0,0,0]]}),t.push({pattern:9,matrixIndexes:[[-1,1,-1],[1,1,-1],[-1,1,-1]]}),t.push({pattern:10,matrixIndexes:[[-1,-1,1],[1,1,-1],[-1,-1,1]]}),t.push({pattern:11,matrixIndexes:[[-1,1,-1],[1,-1,1],[-1,1,-1]]}),t.push({pattern:12,matrixIndexes:[[1,1,1],[1,-1,1],[1,1,1]]}),t.push({pattern:13,matrixIndexes:[[1,-1,1],[-1,1,-1],[1,-1,1]]}),t.push({pattern:14,matrixIndexes:[[-1,1,-1],[1,1,1],[-1,1,-1]]}),t.push({pattern:15,matrixIndexes:[[1,1,0],[1,1,0],[1,1,0]]}),t.push({pattern:16,matrixIndexes:[[1,1,1],[-1,-1,-1],[1,1,1]]}),t.push({pattern:17,matrixIndexes:[[1,1,1],[-1,-1,1],[1,1,1]]}),t.push({pattern:18,matrixIndexes:[[1,1,1],[1,1,1],[1,1,1]]}),t}function a(t){var e=i(),r=1;return r=t.Pattern>0?t.Pattern:t.AT>0?t.AT-t.CP:t.CP,e.find((function(t){return t.pattern===r})).matrixIndexes}var n=[{id:"083",value:850,description:"Enemy Speed Down"},{id:"084",value:900,description:"Enemy Speed Down"},{id:"091",value:[[0,0,0],[1,0,0],[0,0,0]],description:"Breaks Painel"},{id:"092",value:[[1,0,0],[0,0,0],[1,0,0]],description:"Breaks Painel"},{id:"093",value:[[1,0,0],[1,0,0],[1,0,0]],description:"Breaks Painel"},{id:"107",value:1,description:"HP Recovery"},{id:"108",value:2,description:"HP Recovery"},{id:"109",value:3,description:"HP Recovery"},{id:"110",value:4,description:"HP Recovery"},{id:"111",value:6,description:"HP Recovery"},{id:"112",value:8,description:"HP Recovery"},{id:"113",value:10,description:"HP Recovery"},{id:"114",value:12,description:"HP Recovery"},{id:"115",value:5,description:"HP Recovery"},{id:"116",value:[[0,0,0],[1,0,0],[0,0,0]],description:"Breaks Painel"},{id:"117",value:[[1,0,0],[1,0,0],[1,0,0]],description:"Breaks Painel"},{id:"120",value:1e3,description:"Navi ATK 20s"},{id:"121",value:1500,description:"Enemy ATK 5s "},{id:"123",value:[[0,0,0],[1,0,0],[0,0,0]],description:"Breaks Painel"},{id:"124",value:[[1,0,0],[1,0,0],[1,0,0]],description:"Breaks Painel"},{id:"125",value:[[1,0,0],[1,0,0],[1,0,0]],description:"Breaks Painel"},{id:"129",value:.03,description:"Evasion UP 3"},{id:"133",value:.01,description:"Evasion UP 1"},{id:"134",value:.02,description:"Evasion UP 2"},{id:"135",value:2,description:"Enemy ATK Down 2"},{id:"136",value:4,description:"Enemy ATK Down 4"},{id:"137",value:6,description:"Enemy ATK Down 6"},{id:"139",value:8,description:"Enemy ATK Down 8"},{id:"201",value:.1,description:"Evasion UP 10"},{id:"205",value:.3,description:"Navi ATK UP 30"},{id:"206",value:.2,description:"Enemy Miss UP 20"},{id:"208",value:10,description:"Enemy ATK Down 10"}];function s(t){return n.find((function(e){return e.id===t}))}},"44e7":function(t,e,r){var i=r("861d"),a=r("c6b6"),n=r("b622"),s=n("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==a(t))}},5498:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("g",[r("svg",{attrs:{viewBox:"0 0 83 75",width:"83",height:"75",x:"48.05",y:"64.94"}},[r("rect",{attrs:{width:"83",height:"75",rx:"3.01",ry:"3.01"}}),r("g",{attrs:{id:"Time"}},[r("rect",{staticClass:"primary-color",attrs:{x:"3",y:"64.55",width:"76.89",height:"7.45"}}),t._l(t.countDownBars,(function(t){return r("rect",{key:t.id,attrs:{x:t.x,y:"64.79",width:"4.85",height:"6.88"}})}))],2),r("g",{staticClass:"board"},[r("rect",{staticClass:"primary-color",attrs:{x:"2.95",y:"2.98",width:"24",height:"18"}}),r("rect",{staticClass:"primary-color",attrs:{x:"29.55",y:"44.06",width:"24",height:"17.96"}}),r("rect",{staticClass:"primary-color",attrs:{x:"56.14",y:"44.02",width:"24",height:"18"}}),r("rect",{staticClass:"primary-color",attrs:{x:"56.14",y:"2.93",width:"24",height:"18"}}),r("rect",{staticClass:"primary-color",attrs:{x:"56.14",y:"23.56",width:"24",height:"18"}}),r("rect",{staticClass:"primary-color",attrs:{x:"2.95",y:"23.49",width:"24",height:"18"}}),r("rect",{staticClass:"primary-color",attrs:{x:"2.96",y:"44.01",width:"24",height:"18"}}),r("rect",{staticClass:"primary-color",attrs:{x:"29.55",y:"3.07",width:"24",height:"18"}}),r("rect",{staticClass:"primary-color",attrs:{x:"29.5",y:"23.49",width:"24",height:"18"}})]),t._l(this.boardItems,(function(e){return r("g",{key:e.id+"_"+e.type,staticClass:"board-item",style:{transform:"translate("+e.posX+"px,"+e.posY+"px)"}},["attack"===e.type&&e.canShow?r("path",{attrs:{id:"Selected",d:"M27,8.05V5.48H24.29V8H21.62V5.48h2.67V3H21.61V5.47H18.94V3H16.31V5.51H19V8.07h2.65v2.56h2.67V13.2H21.62V10.63H19V8.07H16.31V5.54H13.64V3H11V5.54H8.29V3H5.62V5.54H3v7.82H5.62v2.56H3v2.46H5.62V21H8.29v-2.5H5.62V15.92H8.29v2.46H11V21h2.67V18.45H11V15.89h2.67v2.56h2.66V21H19V18.35h2.66V15.79H19v2.56H16.29V15.79H13.63V13.23H11V10.67h2.66V8.11H11V5.54h2.67V8.11h2.65v2.56H13.63v2.56h2.66V10.67H19v2.56H16.29v2.56H19V13.23h2.67v2.56h2.67v2.54H21.63V21h2.66V18.35H27V15.76H24.3V13.2H27V10.6H24.29V8.05ZM5.62,10.76H3V8.2H5.62Zm0-5.22H8.29V8.11H5.62Zm2.67,7.78H5.62V10.76H8.29Zm0-5.21H11v2.56H8.29ZM11,15.89H8.29V13.32H11Z"}}):t._e(),"blocked"===e.type?r("polygon",{staticClass:"move-blocked",attrs:{"data-name":"Blocked",points:"21.78 10.63 21.78 8.09 24.36 8.09 24.36 5.55 26.95 5.55 26.95 2.98 21.78 2.98 21.78 5.55 16.43 5.55 16.43 8.09 13.75 8.09 13.75 5.55 11.09 5.55 11.09 8.09 8.29 8.09 8.29 5.55 5.58 5.55 5.58 2.98 2.95 2.98 2.95 8.12 5.58 8.12 5.58 10.63 8.29 10.63 8.29 15.46 5.58 15.46 5.58 18.44 3.04 18.44 3.04 18.45 2.95 18.45 2.95 20.98 3.04 20.98 3.11 20.98 8.29 20.98 8.29 18.44 11.09 18.44 11.09 20.98 13.75 20.98 13.75 18.37 11.09 18.37 11.09 15.46 13.75 15.46 13.75 13.16 16.43 13.16 16.43 15.71 19.05 15.71 19.05 18.44 21.78 18.44 21.78 20.98 24.36 20.98 24.36 18.44 24.36 15.77 26.95 15.77 26.95 13.16 24.36 13.16 24.36 15.71 21.78 15.71 21.78 13.16 19.05 13.16 19.05 10.63 21.78 10.63"}}):t._e(),"virus"===e.type?r("g",[r("rect",{staticClass:"primary-color",attrs:{x:"10.87",y:"11.91",width:"2.35",height:"2.35"}}),r("rect",{staticClass:"primary-color",attrs:{x:"17.87",y:"11.89",width:"2.35",height:"2.35"}}),r("path",{attrs:{d:"M22.26,16.34V9.57h-2v-2H10.87v2h-2v6.77h2v2.31H8.76V21H13.2V18.65h4.38V21h4.66V18.65h-2V16.34Zm-9-2.11H10.87V11.91h2.35Zm4.65,0V11.91h2.35v2.32Z"}}),r("rect",{staticClass:"primary-color",attrs:{x:"13.2",y:"18.65",width:"4.37",height:"2.31"}}),r("polygon",{staticClass:"primary-color",attrs:{points:"22.26 7.25 10.87 7.25 10.87 7.29 8.76 7.29 8.76 7.29 8.37 7.29 8.37 20.96 8.83 20.96 8.83 18.65 10.87 18.65 10.87 16.34 8.83 16.34 8.83 9.57 10.87 9.57 10.87 7.56 20.22 7.56 20.22 9.6 22.26 9.6 22.26 16.34 20.22 16.34 20.22 18.65 22.26 18.65 22.26 20.96 22.68 20.96 22.68 7.25 22.26 7.25"}})]):t._e(),"navi"===e.type?r("g",[r("g",[r("polygon",{attrs:{points:"17.94 19.66 17.94 15.33 16.57 15.33 16.57 12.52 19.28 12.52 19.28 11.12 19.28 9.72 17.91 9.72 17.91 11.12 16.57 11.12 16.57 8.34 17.94 8.34 17.94 6.96 17.94 4.05 15.13 4.05 15.13 6.96 13.8 6.96 13.8 8.34 10.95 8.34 10.95 9.73 10.95 11.13 9.39 11.13 9.39 12.59 10.95 12.59 12.37 12.59 12.37 9.73 13.8 9.73 13.8 13.8 12.37 13.8 12.37 19.57 12.37 19.57 12.37 19.66 11.07 19.66 11.07 20.99 13.8 20.99 13.8 19.66 13.8 19.57 13.8 16.84 16.57 16.84 16.57 19.66 16.57 20.99 19.31 20.99 19.31 19.66 17.94 19.66"}}),r("rect",{staticClass:"primary-color",attrs:{x:"13.8",y:"16.79",width:"2.77",height:"4.2"}}),r("polygon",{staticClass:"primary-color",attrs:{points:"19.71 3 19.71 2.97 19.28 2.97 18.69 2.97 15.13 2.97 13.8 2.97 13.8 5.52 10.95 5.52 9.39 5.52 9.39 11.13 10.95 11.13 10.95 8.34 13.8 8.34 13.8 6.96 15.13 6.96 15.13 4.05 17.94 4.05 17.94 8.35 17.91 8.35 17.91 8.34 16.57 8.34 16.57 11.12 17.91 11.12 17.91 9.72 18.69 9.72 18.69 9.73 19.31 9.73 19.31 12.54 19.28 12.54 18.69 12.54 16.57 12.54 16.57 15.36 17.93 15.36 17.93 19.66 18.69 19.66 19.28 19.66 19.31 19.66 19.31 20.96 19.94 20.96 19.94 3 19.71 3"}}),r("polygon",{staticClass:"primary-color",attrs:{points:"12.37 9.73 12.37 12.56 9.39 12.56 9.39 13.79 9.39 15.29 9.39 16.84 9.39 19.66 9.39 20.96 11.07 20.96 11.07 19.66 12.37 19.66 12.37 13.79 13.8 13.79 13.8 9.73 12.37 9.73"}})])]):t._e(),"player"===e.type?r("g",{staticClass:"player"},["defense"===e.turnType?r("g",[r("polygon",{attrs:{points:"17.94 19.66 17.94 15.33 16.57 15.33 16.57 12.52 19.28 12.52 19.28 11.12 19.28 9.72 17.91 9.72 17.91 11.12 16.57 11.12 16.57 8.34 17.94 8.34 17.94 6.96 17.94 4.05 15.13 4.05 15.13 6.96 13.8 6.96 13.8 8.34 10.95 8.34 10.95 9.73 10.95 11.13 9.39 11.13 9.39 12.59 10.95 12.59 12.37 12.59 12.37 9.73 13.8 9.73 13.8 13.8 12.37 13.8 12.37 19.57 12.37 19.57 12.37 19.66 11.07 19.66 11.07 20.99 13.8 20.99 13.8 19.66 13.8 19.57 13.8 16.84 16.57 16.84 16.57 19.66 16.57 20.99 19.31 20.99 19.31 19.66 17.94 19.66"}}),r("rect",{staticClass:"primary-color",attrs:{x:"13.8",y:"16.79",width:"2.77",height:"4.2"}}),r("polygon",{staticClass:"primary-color",attrs:{points:"19.71 3 19.71 2.97 19.28 2.97 18.69 2.97 15.13 2.97 13.8 2.97 13.8 5.52 10.95 5.52 9.39 5.52 9.39 11.13 10.95 11.13 10.95 8.34 13.8 8.34 13.8 6.96 15.13 6.96 15.13 4.05 17.94 4.05 17.94 8.35 17.91 8.35 17.91 8.34 16.57 8.34 16.57 11.12 17.91 11.12 17.91 9.72 18.69 9.72 18.69 9.73 19.31 9.73 19.31 12.54 19.28 12.54 18.69 12.54 16.57 12.54 16.57 15.36 17.93 15.36 17.93 19.66 18.69 19.66 19.28 19.66 19.31 19.66 19.31 20.96 19.94 20.96 19.94 3 19.71 3"}}),r("polygon",{staticClass:"primary-color",attrs:{points:"12.37 9.73 12.37 12.56 9.39 12.56 9.39 13.79 9.39 15.29 9.39 16.84 9.39 19.66 9.39 20.96 11.07 20.96 11.07 19.66 12.37 19.66 12.37 13.79 13.8 13.79 13.8 9.73 12.37 9.73"}})]):t._e(),"attack"===e.turnType?r("g",[r("polygon",{attrs:{points:"11.39 19.66 11.39 15.33 12.76 15.33 12.76 12.52 10.04 12.52 10.04 11.12 10.04 9.72 11.41 9.72 11.41 11.12 12.76 11.12 12.76 8.34 11.39 8.34 11.39 6.96 11.39 4.05 14.2 4.05 14.2 6.96 15.53 6.96 15.53 8.34 18.38 8.34 18.38 9.73 18.38 11.13 19.94 11.13 19.94 12.59 18.38 12.59 16.95 12.59 16.95 9.73 15.53 9.73 15.53 13.8 16.95 13.8 16.95 19.57 16.95 19.57 16.95 19.66 18.26 19.66 18.26 20.99 15.53 20.99 15.53 19.66 15.53 19.57 15.53 16.84 12.76 16.84 12.76 19.66 12.76 20.99 10.02 20.99 10.02 19.66 11.39 19.66"}}),r("rect",{staticClass:"primary-color",attrs:{x:"12.76",y:"16.79",width:"2.77",height:"4.2",transform:"translate(28.29 37.78) rotate(-180)"}}),r("polygon",{staticClass:"primary-color",attrs:{points:"9.62 3 9.62 2.97 10.04 2.97 10.64 2.97 14.2 2.97 15.53 2.97 15.53 5.52 18.38 5.52 19.94 5.52 19.94 11.13 18.38 11.13 18.38 8.34 15.53 8.34 15.53 6.96 14.2 6.96 14.2 4.05 11.39 4.05 11.39 8.35 11.41 8.35 11.41 8.34 12.76 8.34 12.76 11.12 11.41 11.12 11.41 9.72 10.64 9.72 10.64 9.73 10.02 9.73 10.02 12.54 10.04 12.54 10.64 12.54 12.76 12.54 12.76 15.36 11.4 15.36 11.4 19.66 10.64 19.66 10.04 19.66 10.02 19.66 10.02 20.96 9.39 20.96 9.39 3 9.62 3"}}),r("polygon",{staticClass:"primary-color",attrs:{points:"16.95 9.73 16.95 12.56 19.94 12.56 19.94 13.79 19.94 15.29 19.94 16.84 19.94 19.66 19.94 20.96 18.26 20.96 18.26 19.66 16.95 19.66 16.95 13.79 15.53 13.79 15.53 9.73 16.95 9.73"}})]):t._e()]):t._e()])}))],2)])},a=[],n=(r("99af"),r("4de4"),r("7db0"),r("c740"),r("4160"),r("c975"),r("45fc"),r("a434"),r("d3b7"),r("ac1f"),r("25f0"),r("1276"),r("159b"),r("5530")),s=r("2f62"),o=r("9e85"),c=r("341a"),l=r("4173"),h={name:"BattleBoard",data:function(){return{boardItems:[],countDownBars:[{id:1,x:"4.44"},{id:2,x:"12.11"},{id:3,x:"19.78"},{id:4,x:"27.44"},{id:5,x:"35.11"},{id:6,x:"42.77"},{id:7,x:"50.44"},{id:8,x:"58.11"},{id:9,x:"65.77"},{id:10,x:"73.44"}],countDownInterval:null,enemyInterval:null}},computed:Object(n["a"])({},Object(s["c"])({turnType:function(t){return t.battle.turnType},battleType:function(t){return t.battle.type},enemy:function(t){return t.battle.enemy},player:function(t){return t.battle.player}}),{},Object(s["b"])({attackChip:"battle/getAttackChip",supportChip:"battle/getSupportChip"})),mounted:function(){this.registerListeners();var t=this.ramdomBlockedPanels();this.battleType===o["b"].AI?this.startGame(t):this.turnType===o["k"].Attack&&this.$socket.client.emit("startTurn",this.$store.state.battle.id,t)},beforeDestroy:function(){this.unregisterListeners()},sockets:{startTurnResult:function(t){this.startGame(t)},defensePosition:function(t){var e=this;setTimeout((function(){t.turnType=e.$store.state.battle.turnType;var r=e.boardItems.findIndex((function(t){return"player"===t.type}));r>0&&e.boardItems.splice(r,1),e.boardItems.push(t)}),2)},attackPosition:function(t){var e=this;this.boardItems=this.boardItems.filter((function(t){return"attack"!==t.type})),t.forEach((function(t){e.boardItems.splice(0,0,t)}))},fireAttack:function(t,e){this.turnType===o["k"].Defense?t&&this.$store.commit("battle/addBattleAction",{type:o["a"].PlayerHP,value:-parseInt(e)}):t&&this.$store.commit("battle/addBattleAction",{type:o["a"].EnemyDamage,value:-parseInt(e)}),this.$store.commit("battle/setIsAttackHit",t),this.$store.commit("session/setCurrentScene",o["j"].BattleFireAttack),this.$socket.client.emit("updateNaviStaus",this.$store.state.battle.id,this.$store.state.battle.player.naviStatus)}},methods:{registerListeners:function(){var t=this;c["a"].$on(o["h"].Up,(function(){return t.moveTo(o["h"].Up)})),c["a"].$on(o["h"].Down,(function(){return t.moveTo(o["h"].Down)})),c["a"].$on(o["h"].Right,(function(){return t.moveTo(o["h"].Right)})),c["a"].$on(o["h"].Left,(function(){return t.moveTo(o["h"].Left)})),c["a"].$on(o["h"].Confirmation,this.onConfirmation)},unregisterListeners:function(){c["a"].$off(o["h"].Up),c["a"].$off(o["h"].Down),c["a"].$off(o["h"].Right),c["a"].$off(o["h"].Left),c["a"].$off(o["h"].Confirmation)},startCountDown:function(){var t=this,e=500;this.supportChip&&"120"===this.supportChip.Id&&(e=Object(l["b"])(this.supportChip.Id).value),this.countDownInterval=setInterval((function(){t.countDownBars.length>0&&(t.countDownBars.splice(t.countDownBars.length-1,1),0===t.countDownBars.length&&t.onConfirmation())}),e)},startGame:function(t){var e=this;this.startCountDown(),t.forEach((function(t){var r={id:"".concat(t.row,"_").concat(t.column),type:"blocked",posX:26.6*t.column,posY:20.5*t.row};e.boardItems.push(r)})),this.turnType===o["k"].Attack?(this.addAttackPatternToBoard(this.getChipArea()),this.battleType===o["b"].AI&&(this.addEnemyToBoard(),this.startEnemyMovement())):this.addEnemyToBoard()},addAttackPatternToBoard:function(t){for(var e=[],r=0;r<t.length;r++)for(var i=0;i<t.length;i++){var a="".concat(r,"_").concat(i);if(1===t[r][i]){var n={id:a,type:"attack",canShow:!1===this.boardItems.some((function(t){return t.id===a&&"blocked"===t.type})),posX:26.6*i,posY:20.5*r};e.push(n)}}this.boardItems=this.boardItems.concat(e),this.$socket.client.emit("attackMove",this.$store.state.battle.id,e)},addEnemyToBoard:function(){do{var t=Math.floor(3*Math.random()),e=Math.floor(3*Math.random()),r="".concat(t,"_").concat(e)}while(this.boardItems.some((function(t){return t.id===r&&"blocked"===t.type})));var i="";i=this.enemy.type===o["g"].Virus?"virus":this.enemy.type===o["g"].Boss?"navi":"player";var a={id:"".concat(t,"_").concat(e),type:i,turnType:this.turnType,posX:26.6*e,posY:20.5*t};this.boardItems.push(a),this.battleType===o["b"].Player&&this.$socket.client.emit("defenseMove",this.$store.state.battle.id,a)},moveTo:function(t){this.turnType===o["k"].Attack?this.moveAttackTo(t):this.moveCharacterTo(t)},moveAttackTo:function(t){var e=this.boardItems.filter((function(t){return"attack"===t.type}));if(e){for(var r=[],i=!0,a=0;a<e.length;a++){var n=e[a],s=n.id.split("_"),c=parseInt(s[0]),l=parseInt(s[1]);switch(t){case o["h"].Up:c-=1;break;case o["h"].Down:c+=1;break;case o["h"].Left:l-=1;break;case o["h"].Right:l+=1;break}var h=this.getChipArea(this.attackChip);if(!(c>=0&&c<=2&&l>=0&&l<=2&&h[c][l]>=0)){i=!1;break}var p={id:"".concat(c,"_").concat(l),type:"attack",canShow:!this.boardItems.some((function(t){return t.id==="".concat(c,"_").concat(l)&&"blocked"===t.type})),posX:26.6*l,posY:20.5*c};r.push(p)}i&&r.length>0&&(this.boardItems=this.boardItems.filter((function(t){return"attack"!==t.type})),this.boardItems=this.boardItems.concat(r),this.battleType===o["b"].Player&&this.$socket.client.emit("attackMove",this.$store.state.battle.id,r))}},moveCharacterTo:function(t){var e=this.boardItems.find((function(t){return"player"===t.type||"virus"===t.type||"navi"===t.type}));if(e){var r=e.id.split("_"),i=parseInt(r[0]),a=parseInt(r[1]);switch(t){case o["h"].Up:i-=1;break;case o["h"].Down:i+=1;break;case o["h"].Left:a-=1;break;case o["h"].Right:a+=1;break}var n="".concat(i,"_").concat(a);!this.boardItems.some((function(t){return t.id===n&&"blocked"===t.type}))&&i>=0&&i<=2&&a>=0&&a<=2&&(this.boardItems.splice(this.boardItems.indexOf(e),1),e.id=n,e.posX=26.6*a,e.posY=20.5*i,this.boardItems.push(e),this.battleType===o["b"].Player&&this.$socket.client.emit("defenseMove",this.$store.state.battle.id,e))}},getChipArea:function(){var t=null;return t=this.attackChip?Object(l["a"])(this.attackChip):[[0,0,0],[0,1,0],[0,0,0]],t},onConfirmation:function(){if(this.turnType===o["k"].Attack){clearInterval(this.countDownInterval),null!=this.enemyInterval&&clearInterval(this.enemyInterval);var t=this.boardItems.find((function(t){return"player"===t.type||"navi"===t.type||"virus"===t.type})),e=this.boardItems.some((function(e){return e.id===t.id&&"attack"===e.type})),r=0;e&&(r=this.attackChip?this.getAttackPower(this.attackChip.Element,this.attackChip.AT,this.enemy.element):this.getAttackPower(this.player.element,this.player.at,this.enemy.element)),this.battleType===o["b"].Player?this.$socket.client.emit("attackConfirmed",this.$store.state.battle.id,e,r):(e&&this.$store.commit("battle/addBattleAction",{type:o["a"].EnemyDamage,value:-r}),this.$store.commit("battle/setIsAttackHit",e),this.$store.commit("session/setCurrentScene",o["j"].BattleFireAttack))}},ramdomBlockedPanels:function(){var t=[];if(!this.supportChip||"091"!==this.supportChip.Id&&"092"!==this.supportChip.Id&&"093"!==this.supportChip.Id&&"116"!==this.supportChip.Id&&"117"!==this.supportChip.Id&&"123"!==this.supportChip.Id&&"124"!==this.supportChip.Id&&"125"!==this.supportChip.Id){var e=Math.floor(2*Math.random())+1;do{var r={row:Math.floor(3*Math.random()),column:Math.floor(3*Math.random())};1===r.column||t.some((function(t){return t.row===r.row&&t.column===r.column}))||t.push(r)}while(t.length<e)}else for(var i=Object(l["b"])(this.supportChip.Id),a=0;a<i.value.length;a++)for(var n=0;n<i.value.length;n++)t.push({row:a,column:n});return t},startEnemyMovement:function(){var t=this,e=800;!this.supportChip||"083"!==this.supportChip.Id&&"084"!==this.supportChip.Id||(e=Object(l["b"])(this.supportChip.Id).value),e-=15*this.enemy.level,e=e<500?500:e;var r=[o["h"].Up.toString(),o["h"].Down.toString(),o["h"].Left.toString(),o["h"].Right.toString()];this.enemyInterval=setInterval((function(){var e=Math.floor(Math.random()*r.length);t.moveCharacterTo(r[e])}),e)},getAttackPower:function(t,e,r){var i=0;if(t!==o["f"].Neutral&&r!==o["f"].Neutral||(i=e),t===o["f"].Fire?i=r===o["f"].Wood?2*e:r===o["f"].Aqua?Math.floor(e/2):e:t===o["f"].Wood?i=r===o["f"].Elec?2*e:r===o["f"].Fire?Math.floor(e/2):e:t===o["f"].Elec?i=r===o["f"].Aqua?2*e:r===o["f"].Wood?Math.floor(e/2):e:t===o["f"].Aqua&&(i=r===o["f"].Fire?2*e:r===o["f"].Elec?Math.floor(e/2):e),this.supportChip&&"205"===this.supportChip.Id){var a=Object(l["b"])(this.supportChip.Id);return i+Math.floor(a.value*i)}return i}}},p=h,u=r("2877"),d=Object(u["a"])(p,i,a,!1,null,"11c7531c",null);e["default"]=d.exports},"8aa5":function(t,e,r){"use strict";var i=r("6547").charAt;t.exports=function(t,e,r){return e+(r?i(t,e).length:1)}},9263:function(t,e,r){"use strict";var i=r("ad6d"),a=r("9f7f"),n=r("5692"),s=RegExp.prototype.exec,o=n("native-string-replace",String.prototype.replace),c=s,l=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),h=a.UNSUPPORTED_Y||a.BROKEN_CARET,p=void 0!==/()??/.exec("")[1],u=l||p||h;u&&(c=function(t){var e,r,a,n,c=this,u=h&&c.sticky,d=i.call(c),f=c.source,v=0,m=t;return u&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),m=String(t).slice(c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==t[c.lastIndex-1])&&(f="(?: "+f+")",m=" "+m,v++),r=new RegExp("^(?:"+f+")",d)),p&&(r=new RegExp("^"+f+"$(?!\\s)",d)),l&&(e=c.lastIndex),a=s.call(u?r:c,m),u?a?(a.input=a.input.slice(v),a[0]=a[0].slice(v),a.index=c.lastIndex,c.lastIndex+=a[0].length):c.lastIndex=0:l&&a&&(c.lastIndex=c.global?a.index+a[0].length:e),p&&a&&a.length>1&&o.call(a[0],r,(function(){for(n=1;n<arguments.length-2;n++)void 0===arguments[n]&&(a[n]=void 0)})),a}),t.exports=c},"9f7f":function(t,e,r){"use strict";var i=r("d039");function a(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,r){"use strict";var i=r("23e7"),a=r("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==a},{exec:a})},c740:function(t,e,r){"use strict";var i=r("23e7"),a=r("b727").findIndex,n=r("44d2"),s="findIndex",o=!0;s in[]&&Array(1)[s]((function(){o=!1})),i({target:"Array",proto:!0,forced:o},{findIndex:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n(s)},d784:function(t,e,r){"use strict";r("ac1f");var i=r("6eeb"),a=r("9263"),n=r("d039"),s=r("b622"),o=r("9112"),c=s("species"),l=RegExp.prototype,h=!n((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),p=function(){return"$0"==="a".replace(/./,"$0")}(),u=s("replace"),d=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),f=!n((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));t.exports=function(t,e,r,u){var v=s(t),m=!n((function(){var e={};return e[v]=function(){return 7},7!=""[t](e)})),y=m&&!n((function(){var e=!1,r=/a/;return"split"===t&&(r={},r.constructor={},r.constructor[c]=function(){return r},r.flags="",r[v]=/./[v]),r.exec=function(){return e=!0,null},r[v](""),!e}));if(!m||!y||"replace"===t&&(!h||!p||d)||"split"===t&&!f){var g=/./[v],x=r(v,""[t],(function(t,e,r,i,n){var s=e.exec;return s===a||s===l.exec?m&&!n?{done:!0,value:g.call(e,r,i)}:{done:!0,value:t.call(r,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}),b=x[0],I=x[1];i(String.prototype,t,b),i(l,v,2==e?function(t,e){return I.call(t,this,e)}:function(t){return I.call(t,this)})}u&&o(l[v],"sham",!0)}}}]);
//# sourceMappingURL=chunk-47ce4eca.aea68e81.js.map