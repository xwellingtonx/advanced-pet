"use strict";(self["webpackChunkadvanced_pet"]=self["webpackChunkadvanced_pet"]||[]).push([[8641],{3357:function(e,t,i){i.r(t),i.d(t,{default:function(){return c}});var r=function(){var e=this,t=e._self._c;return t("g",[t("svg",{attrs:{viewBox:"0 0 83 75",width:"83",height:"75",x:"48.05",y:"64.94"}},[t("rect",{attrs:{width:"83",height:"75",rx:"3.01",ry:"3.01"}}),t("g",{domProps:{innerHTML:e._s(this.screenContent)}}),t("rect",{staticClass:"default-color",attrs:{x:"2.91",y:"2.93",width:"77.18",height:"17.67"}}),t("text",{staticClass:"primary-color pet-font",attrs:{transform:"translate(10.95 18.26)"}},[e._v("Attack")])])])},s=[],n=i(37878),a=i(90408),o=i(26173),p=i(39689),d={name:"EnemyAttack",computed:{...(0,a.rn)({enemy:e=>e.battle.enemy,player:e=>e.battle.player}),...(0,a.Se)({supportChip:"battle/getSupportChip"})},data(){return{screenContent:"",fireTimeout:null}},mounted(){o.Z.$on(n.zW.Confirmation,this.onConfirmation),this.enemy.type===n.qZ.Virus?this.importVirus(this.enemy.image):this.importBoss(this.enemy.image);var e=3e3;this.supportChip&&"121"===this.supportChip.Id&&(e=(0,p.J)(this.supportChip.Id).value),this.fireTimeout=setTimeout((()=>{this.onConfirmation()}),e)},beforeDestroy(){o.Z.$off(n.zW.Confirmation)},methods:{onConfirmation(){null!==this.fireTimeout&&clearTimeout(this.fireTimeout);var e=0;this.enemy.type===n.qZ.Virus?e=(45+5*this.enemy.level)/100:this.enemy.type===n.qZ.Boss&&(e=.75),!this.supportChip||"129"!==this.supportChip.Id&&"133"!==this.supportChip.Id&&"134"!==this.supportChip.Id&&"201"!==this.supportChip.Id&&"206"!==this.supportChip.Id||(e-=(0,p.J)(this.supportChip.Id).value);var t=Math.random();if(t<=e){var i=this.getAttackPower(this.enemy.element,parseInt(this.enemy.at),this.player.element);this.$store.commit("battle/addBattleAction",{type:n.qm.PlayerHP,value:-i}),this.$store.commit("battle/setIsAttackHit",!0)}else this.$store.commit("battle/setIsAttackHit",!1);this.$store.commit("session/setCurrentScene",n.Pm.BattleFireAttack)},importVirus(e){this.screenContent=i(77572)(`./${e}`).default},importBoss(e){this.screenContent=i(60557)(`./${e}`).default},getAttackPower(e,t,i){var r=0;return e!==n.iN.Neutral&&i!==n.iN.Neutral||(r=t),e===n.iN.Fire?r=i===n.iN.Wood?2*t:i===n.iN.Aqua?Math.floor(t/2):t:e===n.iN.Wood?r=i===n.iN.Elec?2*t:i===n.iN.Fire?Math.floor(t/2):t:e===n.iN.Elec?r=i===n.iN.Aqua?2*t:i===n.iN.Wood?Math.floor(t/2):t:e===n.iN.Aqua&&(r=i===n.iN.Fire?2*t:i===n.iN.Elec?Math.floor(t/2):t),!this.supportChip||"135"!==this.supportChip.Id&&"136"!==this.supportChip.Id&&"137"!==this.supportChip.Id&&"139"!==this.supportChip.Id&&"208"!==this.supportChip.Id?r:(r-=(0,p.J)(this.supportChip.Id).value,r>0?r:0)}}},u=d,h=i(1001),l=(0,h.Z)(u,r,s,!1,null,"fb9bcf4e",null),c=l.exports},39689:function(e,t,i){i.d(t,{J:function(){return a},L:function(){return s}});i(70560);function r(){const e=[];return e.push({pattern:1,matrixIndexes:[[0,-1,-1],[1,-1,-1],[0,-1,-1]]}),e.push({pattern:2,matrixIndexes:[[0,0,0],[0,1,0],[0,0,0]]}),e.push({pattern:3,matrixIndexes:[[0,0,-1],[1,1,-1],[0,0,-1]]}),e.push({pattern:4,matrixIndexes:[[-1,0,0],[-1,1,1],[-1,0,0]]}),e.push({pattern:5,matrixIndexes:[[1,-1,-1],[1,-1,-1],[1,-1,-1]]}),e.push({pattern:6,matrixIndexes:[[0,1,0],[0,1,0],[0,1,0]]}),e.push({pattern:7,matrixIndexes:[[-1,-1,1],[-1,-1,1],[-1,-1,1]]}),e.push({pattern:8,matrixIndexes:[[0,0,0],[1,1,1],[0,0,0]]}),e.push({pattern:9,matrixIndexes:[[-1,1,-1],[1,1,-1],[-1,1,-1]]}),e.push({pattern:10,matrixIndexes:[[-1,-1,1],[1,1,-1],[-1,-1,1]]}),e.push({pattern:11,matrixIndexes:[[-1,1,-1],[1,-1,1],[-1,1,-1]]}),e.push({pattern:12,matrixIndexes:[[1,1,1],[1,-1,1],[1,1,1]]}),e.push({pattern:13,matrixIndexes:[[1,-1,1],[-1,1,-1],[1,-1,1]]}),e.push({pattern:14,matrixIndexes:[[-1,1,-1],[1,1,1],[-1,1,-1]]}),e.push({pattern:15,matrixIndexes:[[1,1,0],[1,1,0],[1,1,0]]}),e.push({pattern:16,matrixIndexes:[[1,1,1],[-1,-1,-1],[1,1,1]]}),e.push({pattern:17,matrixIndexes:[[1,1,1],[-1,-1,1],[1,1,1]]}),e.push({pattern:18,matrixIndexes:[[1,1,1],[1,1,1],[1,1,1]]}),e}function s(e){var t=r(),i=1;return i=e.Pattern>0?e.Pattern:e.AT>0?e.AT-e.CP:e.CP,t.find((e=>e.pattern===i)).matrixIndexes}const n=[{id:"083",value:850,description:"Enemy Speed Down"},{id:"084",value:900,description:"Enemy Speed Down"},{id:"091",value:[[0,0,0],[1,0,0],[0,0,0]],description:"Breaks Painel"},{id:"092",value:[[1,0,0],[0,0,0],[1,0,0]],description:"Breaks Painel"},{id:"093",value:[[1,0,0],[1,0,0],[1,0,0]],description:"Breaks Painel"},{id:"107",value:1,description:"HP Recovery"},{id:"108",value:2,description:"HP Recovery"},{id:"109",value:3,description:"HP Recovery"},{id:"110",value:4,description:"HP Recovery"},{id:"111",value:6,description:"HP Recovery"},{id:"112",value:8,description:"HP Recovery"},{id:"113",value:10,description:"HP Recovery"},{id:"114",value:12,description:"HP Recovery"},{id:"115",value:5,description:"HP Recovery"},{id:"116",value:[[0,0,0],[1,0,0],[0,0,0]],description:"Breaks Painel"},{id:"117",value:[[1,0,0],[1,0,0],[1,0,0]],description:"Breaks Painel"},{id:"120",value:1e3,description:"Navi ATK 20s"},{id:"121",value:1500,description:"Enemy ATK 5s "},{id:"123",value:[[0,0,0],[1,0,0],[0,0,0]],description:"Breaks Painel"},{id:"124",value:[[1,0,0],[1,0,0],[1,0,0]],description:"Breaks Painel"},{id:"125",value:[[1,0,0],[1,0,0],[1,0,0]],description:"Breaks Painel"},{id:"129",value:.03,description:"Evasion UP 3"},{id:"133",value:.01,description:"Evasion UP 1"},{id:"134",value:.02,description:"Evasion UP 2"},{id:"135",value:2,description:"Enemy ATK Down 2"},{id:"136",value:4,description:"Enemy ATK Down 4"},{id:"137",value:6,description:"Enemy ATK Down 6"},{id:"139",value:8,description:"Enemy ATK Down 8"},{id:"201",value:.1,description:"Evasion UP 10"},{id:"205",value:.3,description:"Navi ATK UP 30"},{id:"206",value:.2,description:"Enemy Miss UP 20"},{id:"208",value:10,description:"Enemy ATK Down 10"}];function a(e){return n.find((t=>t.id===e))}}}]);
//# sourceMappingURL=8641.d33d2da8.js.map