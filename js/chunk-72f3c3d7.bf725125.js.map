{"version":3,"sources":["webpack:///./src/components/game/scenes/option/OptionTime.vue?28f0","webpack:///src/components/game/scenes/option/OptionTime.vue","webpack:///./src/components/game/scenes/option/OptionTime.vue?b8b4","webpack:///./src/components/game/scenes/option/OptionTime.vue","webpack:///./src/components/game/scenes/option/OptionTime.vue?a684","webpack:///./src/assets/svgs/players sync ./node_modules/html-loader/dist/cjs.js ^\\.\\/.*\\/right\\-face\\.svg$"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","class","isConfirmation","domProps","_s","rightFace","selectorPosX","_v","_l","item","key","index","selected","itemSelected","posX","value","staticRenderFns","component","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports"],"mappings":"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","file":"js/chunk-72f3c3d7.bf725125.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('g',[_c('svg',{attrs:{\"viewBox\":\"0 0 83 75\",\"width\":\"83\",\"height\":\"75\",\"x\":\"48.05\",\"y\":\"64.94\"}},[_c('rect',{attrs:{\"width\":\"83\",\"height\":\"75\",\"rx\":\"3.01\",\"ry\":\"3.01\"}}),_c('rect',{staticClass:\"cls-1\",attrs:{\"x\":\"3\",\"y\":\"3\",\"width\":\"77\",\"height\":\"69\"}}),_c('g',{class:{'hide-element': _vm.isConfirmation === true},attrs:{\"id\":\"standby-face-right\"},domProps:{\"innerHTML\":_vm._s(this.rightFace)}}),_c('rect',{staticClass:\"cls-2\",attrs:{\"x\":\"2\",\"y\":\"2\",\"width\":\"79\",\"height\":\"18.67\"}}),_c('rect',{staticClass:\"time-selector\",attrs:{\"x\":_vm.selectorPosX,\"y\":\"3\",\"width\":\"12.61\",\"height\":\"17\"}}),_c('text',{staticClass:\"confirmation-text\",class:{'hide-element': _vm.isConfirmation === false},attrs:{\"transform\":\"translate(21.15 45.06)\"}},[_vm._v(\" Time\"),_c('tspan',{attrs:{\"x\":\"2.68\",\"y\":\"18\"}},[_vm._v(\"ok?\")])]),_c('text',{staticClass:\"standby-text\",attrs:{\"transform\":\"translate(9 19)\"}},_vm._l((_vm.timeItems),function(item){return _c('tspan',{key:item.index,class:{selected: _vm.isConfirmation === false && (_vm.itemSelected !== null && _vm.itemSelected.index === item.index)},attrs:{\"x\":item.posX}},[_vm._v(\" \"+_vm._s(item.value)+\" \")])}),0)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <g>\n        <svg viewBox=\"0 0 83 75\" width=\"83\" height=\"75\" x=\"48.05\" y=\"64.94\">\n            <rect width=\"83\" height=\"75\" rx=\"3.01\" ry=\"3.01\" />\n            <rect class=\"cls-1\" x=\"3\" y=\"3\" width=\"77\" height=\"69\" />\n            <g id=\"standby-face-right\" \n                :class=\"{'hide-element': isConfirmation === true}\" \n                v-html=\"this.rightFace\">\n            </g>                          \n            <rect class=\"cls-2\" x=\"2\" y=\"2\" width=\"79\" height=\"18.67\" />\n            <rect class=\"time-selector\" :x=\"selectorPosX\" y=\"3\" width=\"12.61\" height=\"17\" />\n            <text class=\"confirmation-text\" transform=\"translate(21.15 45.06)\" :class=\"{'hide-element': isConfirmation === false}\">\n                Time<tspan x=\"2.68\" y=\"18\">ok?</tspan>\n            </text>\n            <text class=\"standby-text\" transform=\"translate(9 19)\">\n                <tspan v-for=\"item in timeItems\" :key=\"item.index\"\n                    :class=\"{selected: isConfirmation === false && (itemSelected !== null && itemSelected.index === item.index)}\" \n                    :x=\"item.posX\" >\n                        {{item.value}}\n                </tspan>\n            </text>\n        </svg>        \n    </g>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport EventBus from '../../../../global/eventBus.js';\nimport { SceneNames, Events } from '../../../../global/constants';\nimport { TimelineLite } from \"gsap\";\nimport moment from 'moment'\n\nexport default {\n    name: \"OptionTime\",\n    computed: {\n        ...mapState({\n            deviceType: state => state.session.deviceType,\n        })       \n    },      \n    data() {\n        return {\n            timeItems: [],\n            itemSelected: null,\n            timeLine: null,\n            selectorPosX: 0,\n            isConfirmation: false,\n            rightFace: \"\"\n        }\n    },\n    created() {\n        this.rightFace = require(`!html-loader!../../../../assets/svgs/players/${this.deviceType}/right-face.svg`);\n    },\n    mounted() {\n        this.registerListeners();\n\n        //Set array with the last registered time from session\n        this.setTimeArray(this.$store.state.session.time, 0);\n    },\n    beforeDestroy() {\n        this.unregisterListeners();\n    },\n    methods: {\n        registerListeners() {\n            EventBus.$on(Events.Right, this.moveSelectorToRight);\n            EventBus.$on(Events.Left, this.moveSelectorToLeft);\n            EventBus.$on(Events.Up, this.incrementTime);\n            EventBus.$on(Events.Down, this.decrementTime);\n            EventBus.$on(Events.Confirmation, this.onConfirmation);\n            EventBus.$on(Events.Cancel, this.onCancel);\n        },\n        unregisterListeners() {\n            EventBus.$off(Events.Right);\n            EventBus.$off(Events.Left);\n            EventBus.$off(Events.Up);\n            EventBus.$off(Events.Down);\n            EventBus.$off(Events.Confirmation);\n            EventBus.$off(Events.Cancel);\n        },\n        onConfirmation() {\n            if(this.itemSelected.index == 4) {\n                this.timeLine.restart();\n                this.timeLine.pause();\n\n                //If is the first time calling the event, show the confirmation text.\n                if(!this.isConfirmation) {\n                    this.isConfirmation = true;\n                } else {\n                    var timeStr = \"\";\n                    this.timeItems.forEach((item) => {\n                        timeStr += item.value.toString();\n                    });\n\n                    var dateNow = moment().format(\"YYYY-MM-DD\");\n                    //Check if is a valid time\n                    if(moment(dateNow + \" \" + timeStr, \"YYYY-MM-DD HH:mm\", true).isValid()) {\n                        //Save the time and move to next scene\n                        this.$store.commit('session/setTime', timeStr);\n                        \n                        //Check the scene we're going to move.\n                        if (this.$store.state.session.lastScene === SceneNames.Greeting) {\n                            this.$store.commit('session/setCurrentScene', SceneNames.Opening);\n                        } else {\n                            this.$store.commit('session/setCurrentScene', SceneNames.OptionSound);\n                        }\n                    } else {\n                        this.isConfirmation = false;\n                        this.setTimeArray(this.$store.state.session.time, 0);\n                    }\n                }\n            } else {\n                this.moveSelectorToRight();\n            }\n        },\n        onCancel() {\n            if (this.itemSelected.index > 0) {\n                if(this.isConfirmation) {\n                    this.isConfirmation = false;\n                    this.setTimeArray(this.$store.state.session.time, 0);\n                }\n            } else {\n                this.$store.commit('session/setCurrentScene', SceneNames.Option);\n            }\n        },\n        setTimeArray(timeNow, position) {\n            \n            this.timeItems = [];\n\n            this.timeItems.push({ index: 0, value: timeNow.substring(0, 1), posX: 0 });\n            this.timeItems.push({ index: 1, value: timeNow.substring(1, 2), posX: 15 });\n            this.timeItems.push({ index: 2, value: timeNow.substring(2, 3), posX: 30 });\n            this.timeItems.push({ index: 3, value: timeNow.substring(3, 4), posX: 40 });\n            this.timeItems.push({ index: 4, value: timeNow.substring(4, 5), posX: 55 });\n\n            this.selectTimeItem(position);\n        },\n        selectTimeItem(index) {\n            if(this.timeItems) {\n                switch (index) {\n                    case 0:\n                        this.selectorPosX = 8.2;\n                        break;\n                    case 1:\n                        this.selectorPosX = 23;\n                        break;\n                    case 3:\n                        this.selectorPosX = 48;\n                        break;\n                    case 4:\n                        this.selectorPosX = 63;\n                        break;                                                                \n                }\n                \n                this.itemSelected = this.timeItems[index];\n\n                if(this.timeLine === null) {\n                    this.timeLine = new TimelineLite({\n                        repeat: -1\n                    });\n\n                    this.timeLine.to('.time-selector',{ display: 'block', delay: 0.5, duration: 0.5, ease: \"none\"});\n                    this.timeLine.play();\n                } else {\n                    this.timeLine.play();\n                }\n            }\n        },\n        incrementTime() {\n            if(this.isConfirmation) {\n                return;\n            }\n\n            //The time is displayed in 24-hour time. ex: 00:00 to 23:59\n            var value = parseInt(this.itemSelected.value)\n\n            if(this.itemSelected.index === 0) {\n                if(value === 2) {\n                    value = 0;\n                } else {\n                    value++;\n                }\n            } else if(this.itemSelected.index === 1) {\n                if(parseInt(this.timeItems[0].value) === 2 && value === 3) {\n                    value = 0;\n                } else {\n                    value++;\n                }\n            } else if(this.itemSelected.index === 3) {\n                if(value === 5) {\n                    value = 0;\n                } else {\n                    value++;\n                }\n            } else {\n                value++;\n            }\n\n            //The value can't be great than 9\n            if(value > 9) {\n                value = 0\n            }\n\n            this.itemSelected.value = value;\n            this.timeItems[this.itemSelected.index] = this.itemSelected;\n        },\n        decrementTime() {\n            if(this.isConfirmation) {\n                return;\n            }\n\n            var value = parseInt(this.itemSelected.value)\n\n            if(this.itemSelected.index === 0) {\n                if(value === 0) {\n                    value = 2;\n                } else {\n                    value--;\n                }\n            } else if(this.itemSelected.index === 1) {\n                if(parseInt(this.timeItems[0].value) === 2 && value === 0) {\n                    value = 3;\n                } else {\n                    value--;\n                }\n            } else if(this.itemSelected.index === 3) {\n                if(value === 0) {\n                    value = 5;\n                } else {\n                    value--;\n                }\n            } else {\n                value--;\n            }\n\n            //The value can't less than 0\n            if(value < 0) {\n                value = 9\n            }\n\n            this.itemSelected.value = value;\n            this.timeItems[this.itemSelected.index] = this.itemSelected;\n        },\n        moveSelectorToRight() {\n            this.moveSelection(\"right\");\n        },\n        moveSelectorToLeft() {\n            this.moveSelection(\"left\");\n        },\n        moveSelection(position) {\n            if(this.isConfirmation) {\n                return;\n            }\n\n            //Do not move if is the first/last index\n            if(this.itemSelected.index === 0 && position === \"left\") {\n                return;\n            } \n            else if(this.itemSelected.index === 4 && position === \"right\") {\n                return;\n            } \n            else {\n\n                //If the next movement will be the index 2 (:), we want to move 2 position.\n                var movementCount = 1;\n                if((this.itemSelected.index === 1 && position === \"right\") || (this.itemSelected.index === 3 && position === \"left\")) {\n                    movementCount = 2;\n                }\n\n                if(position === \"right\") {\n                    this.selectTimeItem(this.itemSelected.index + movementCount)\n                } else {\n                    this.selectTimeItem(this.itemSelected.index - movementCount)\n                }\n            }\n        }\n    }\n}\n</script>\n\n<style scoped lang=\"scss\">\n.selected {\n    fill: #000;\n}\n.time-selector {\n    fill: #fff;\n    display: none;\n}\n\n.hide-element {\n    display: none;\n}\n\n.cls-1,.standby-text {fill:#fff;}.cls-2{fill:#000501;}\n.standby-text, .confirmation-text{\n    font-size: 15px;\n    font-family:Advanced-PET-Font, Advanced PET Font;\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OptionTime.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OptionTime.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OptionTime.vue?vue&type=template&id=5a4cfcf4&scoped=true&\"\nimport script from \"./OptionTime.vue?vue&type=script&lang=js&\"\nexport * from \"./OptionTime.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OptionTime.vue?vue&type=style&index=0&id=5a4cfcf4&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5a4cfcf4\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OptionTime.vue?vue&type=style&index=0&id=5a4cfcf4&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OptionTime.vue?vue&type=style&index=0&id=5a4cfcf4&scoped=true&lang=scss&\"","var map = {\n\t\"./bass/right-face.svg\": \"d986\",\n\t\"./megaman/right-face.svg\": \"becb\",\n\t\"./protoman/right-face.svg\": \"00d3\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"d91e\";"],"sourceRoot":""}