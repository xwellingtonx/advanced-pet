<template>
  <g>
    <svg viewBox="0 0 83 75" width="83" height="75" x="48.05" y="64.94">
        <rect class="cls-1" x="3.14" y="2.84" width="77" height="69" />
        <g v-if="!showPlugInScreen">
            <g id="sprite_1">
                <polygon points="22.12 21.85 24.51 21.85 24.51 23.86 29.55 23.86 29.55 26.04 46.55 26.04 46.55 23.86 51.27 23.86 51.27 21.85 53.48 21.85 53.48 19.61 22.12 19.61 22.12 21.85" />
                <polygon points="58.64 11.27 58.64 8.99 56.44 8.99 56.44 11.27 53.48 11.27 53.48 13.35 22.12 13.35 20.02 13.35 20.02 8.88 17.33 8.88 17.33 6.42 17.33 4.55 3.14 4.55 3.14 6.42 15.06 6.42 15.06 11.27 17.33 11.27 17.33 11.27 3.14 11.27 3.14 17.23 17.33 17.23 20.02 17.23 20.02 19.61 22.12 19.61 22.12 15.59 53.48 15.59 53.48 17.71 53.48 17.75 53.48 19.61 55.81 19.61 55.81 17.75 66.2 17.75 66.2 20.16 63.68 20.16 63.68 22.37 60.32 22.37 60.32 26.04 73.25 26.04 73.25 23.86 78.04 23.86 78.04 21.85 80.14 21.85 80.14 17.75 71.28 17.75 71.28 15.59 75.9 15.59 75.9 13.35 80.14 13.35 80.14 11.27 80.14 8.95 78.04 8.95 78.04 11.27 58.64 11.27" />
                <path d="M78,6.42h2.1V2.84H53.48V4.55H29.55V2.84H26.78V6.42h2.77V8.84h2.39v1.9H51.17V9H78V6.42ZM51.17,8.84H48.25V6.7h2.92Z" />
                <polygon points="55.81 30.63 53.48 30.63 53.48 32.59 51.27 32.59 51.27 37.06 53.48 37.06 53.48 39.52 56.75 39.52 56.75 41.38 73.17 41.38 73.17 43.66 80.14 43.66 80.14 41.38 80.14 39.52 57.89 39.52 57.89 30.63 80.14 30.63 80.14 28.28 55.81 28.28 55.81 30.63" />
                <polygon points="48.73 32.29 51.17 32.29 51.17 29.01 29.55 29.01 29.55 32.29 31.94 32.29 31.94 35.07 48.73 35.07 48.73 32.29" />
                <polygon points="17.58 32.54 20.02 32.54 20.02 34.43 26.46 34.43 26.46 30.65 24.51 30.65 24.51 28.28 17.58 28.28 17.58 26.66 15.06 26.66 15.06 23.86 12.1 23.86 12.1 21.46 3.14 21.46 3.14 23.86 10.23 23.86 10.23 26.66 3.14 26.66 3.14 30.91 17.58 30.91 17.58 32.54" />
                <polygon points="5.38 38.77 7.62 38.77 10.23 38.77 10.23 34.82 7.62 34.82 7.62 32.59 3.14 32.59 3.14 38.77 3.14 40.94 5.38 40.94 5.38 38.77" />
                <polygon points="20.02 37.06 14.64 37.06 14.64 39.18 10.23 39.18 10.23 40.94 16.99 40.94 16.99 39.18 20.02 39.18 20.02 37.06" />
                <polygon points="24.13 41.38 22.12 41.38 22.12 43.25 29.09 43.25 29.09 41.38 30.34 41.38 30.34 39.18 24.13 39.18 24.13 41.38" />
                <polygon points="34.12 39.18 34.12 41.38 31.94 41.38 31.94 43.62 46.55 43.62 46.55 41.38 44.79 41.38 44.79 39.18 34.12 39.18" />
                <polygon points="57.89 43.66 57.89 45.45 61.16 45.45 61.16 47.57 70.48 47.57 70.48 45.45 68.45 45.45 68.45 43.66 57.89 43.66" />
                <polygon points="9.69 43.25 9.69 45.86 5.38 45.86 5.38 49.81 17.33 49.81 17.33 47.83 20.02 47.83 20.02 43.25 19.51 43.25 16.99 43.25 9.69 43.25" />
                <path d="M22.12,63.23h2V58.61h3.11V54.36H51.76v2.46H66.2V51.9h-5V49.81h-10V48.17H48.4V45.45H27.24v2.72H24.13V51.9H7.62v2.46H3.14v4.25h19v2.31h-19V63h19Zm5.12-13.42h22V51.9h-22Z" />
                <polygon points="70.48 54.36 72.67 54.36 72.67 56.82 75.31 56.82 75.31 59.13 80.14 59.13 80.14 56.82 80.14 54.36 80.14 50.85 70.48 50.85 70.48 54.36" />
                <path d="M75.31,61.29H72.67V59.13H46.13v6H48.4v4.54H78V63.23H75.31Zm0,6.15h-24V65.17h24Z" />
                <polygon points="34.12 56.82 34.12 59.13 31.69 59.13 31.69 60.92 31.69 65.17 34.12 65.17 43.65 65.17 43.65 63 34.12 63 34.12 60.92 43.65 60.92 43.65 59.13 46.13 59.13 46.13 56.82 34.12 56.82" />
                <polygon points="12.63 69.27 9.9 69.27 9.9 71.84 31.69 71.84 31.69 69.27 34.12 69.27 34.12 67.7 12.63 67.7 12.63 69.27" />
                <polygon points="3.14 66.97 3.14 69.27 5.38 69.27 5.38 66.97 7.62 66.97 7.62 65.17 3.14 65.17 3.14 66.97" />
            </g>
            <g id="sprite_2">
                <polygon points="17.04 19.31 15.16 19.31 15.16 18.19 7.65 18.19 7.65 21.33 13.28 21.33 13.28 23.91 17.04 23.91 22.67 23.91 22.67 21.78 17.04 21.78 17.04 19.31" />
                <polygon points="53.1 21.78 53.1 23.88 26.99 23.88 26.99 25.98 26.99 28.05 29.62 28.05 29.62 25.98 48.96 25.98 48.96 28.05 51.28 28.05 51.28 25.98 53.1 25.98 58.6 25.98 58.6 23.91 63.36 23.91 63.36 19.31 58.6 19.31 58.6 21.78 53.1 21.78" />
                <polygon points="29.62 30.63 32.37 30.63 32.37 32.71 41.7 32.71 41.7 34.72 43.96 34.72 43.96 32.71 46.46 32.71 46.46 30.63 48.96 30.63 48.96 28.05 29.62 28.05 29.62 30.63" />
                <path d="M44,34.84v2.24h2.5v2.24H31.75V41.5H29.62v4.37H51.28V41.5H49V39.32h4.7V41.5H61V39.32h7.27V32.71H65.43V30.63H58.6v2.08H46.46v2.13ZM65.43,35v2.08H49V35Z" />
                <polygon points="12.7 26.41 12.7 30.3 17.54 30.3 17.54 32.71 24.63 32.71 24.63 30.3 21.88 30.3 21.88 28.35 19.37 28.35 19.37 26.41 12.7 26.41" />
                <polygon points="7.65 26.41 5.85 26.41 5.85 23.91 3.14 23.91 3.14 26.41 3.14 28.35 7.65 28.35 7.65 26.41" />
                <polygon points="5.39 34.82 5.39 36.8 7.94 36.8 7.94 39.32 14.99 39.32 14.99 36.8 12.7 36.8 12.7 34.82 5.39 34.82" />
                <polygon points="26.99 32.71 26.99 34.84 29.37 34.84 29.37 36.8 34.57 36.8 34.57 34.84 31.75 34.84 31.75 32.71 26.99 32.71" />
                <polygon points="12.97 49.74 14.99 49.74 14.99 47.78 17.54 47.78 17.54 45.88 24.63 45.88 24.63 43.24 26.99 43.24 26.99 39.32 19.85 39.32 19.85 41.73 17.54 41.73 17.54 43.24 3.14 43.24 3.14 45.88 3.14 47.78 10.34 47.78 10.34 49.74 3.14 49.74 3.14 52.09 12.97 52.09 12.97 49.74" />
                <path d="M63.36,4.67V3H61.17V4.67H58.6v2.2H15.16v1.8h-3V6.87H10.09V4.41H7.65V2.84H3.14V15.28h12v1.79H17v2.24h5.63v2.47H53.1V19.31h5.5V17.07h1.51v-4.2H72.79v2.35h2.63V12.87h4.72V4.67ZM58.6,15.28H17V8.67H58.6v6.61Z" />
                <polygon points="70.71 17.45 68.29 17.45 68.29 21.78 80.14 21.78 80.14 17.45 80.14 15.28 70.71 15.28 70.71 17.45" />
                <polygon points="75.44 43.69 77.95 43.69 77.95 45.88 80.14 45.88 80.14 43.69 80.14 41.5 75.44 41.5 75.44 43.69" />
                <polygon points="51.28 54.13 53.66 54.13 53.66 52.15 51.28 52.15 51.28 50.17 46.46 50.17 46.46 48.3 29.62 48.3 29.62 50.17 24.63 50.17 24.63 52.15 21.88 52.15 21.88 54.13 24.63 54.13 51.28 54.13" />
                <polygon points="77.79 50.23 72.91 50.23 72.91 48.3 60.61 48.3 60.61 52.15 63.28 52.15 63.28 54.73 65.43 54.73 65.43 57.42 55.68 57.42 55.68 54.13 53.66 54.13 53.66 57.42 53.66 58.69 21.88 58.69 21.88 54.13 19.85 54.13 19.85 56.37 3.14 56.37 3.14 62.57 14.99 62.57 14.99 67.13 3.14 67.13 3.14 69.3 14.99 69.3 17.54 69.3 17.54 65.34 19.85 65.34 19.85 62.57 19.85 61.3 21.88 61.3 53.66 61.3 53.66 63.02 56.02 63.02 56.02 65.34 51.28 65.34 51.28 67.32 48.96 67.32 48.96 65.34 51.28 65.34 51.28 63.55 31.97 63.55 31.97 65.34 29.62 65.34 29.62 67.32 26.99 67.32 26.99 71.69 29.62 71.69 29.62 69.3 48.96 69.3 53.66 69.3 53.66 71.84 80.14 71.84 80.14 69.3 80.14 69 80.14 67.32 77.79 67.32 77.79 65.34 58.6 65.34 58.6 63.02 70.37 63.02 71.04 63.02 77.95 63.02 77.95 65.34 80.14 65.34 80.14 61.3 77.95 61.3 75.44 61.3 75.44 59.36 71.04 59.36 71.04 57.42 71.04 56.97 80.14 56.97 80.14 52.79 77.79 52.79 77.79 50.23" />
                <rect x="24.49" y="2.84" width="23.86" height="1.57" />
            </g>
            <g id="sprite_3">
                <polygon points="13.22 6.02 33.79 6.02 33.79 4.05 32.33 4.05 32.33 2.84 9.81 2.84 9.81 4.05 13.22 4.05 13.22 6.02" />
                <polygon points="8.34 6.47 6.09 6.47 6.09 4.62 3.14 4.62 3.14 6.47 3.14 8.13 8.34 8.13 8.34 6.47" />
                <path d="M71.2,14.19V11.12h2.31v-2h2.56V3.18H50v.17H47.78V8.06h-2.2v6.13H71.2ZM50,5.05H73.51v3H50Z" />
                <polygon points="78.82 18.1 78.82 15.83 78.82 14.19 74.31 14.19 74.31 15.83 71.5 15.83 71.5 18.1 69.18 18.1 69.18 22.47 78.82 22.47 78.82 18.1" />
                <polygon points="43.27 10.04 43.27 8.06 31.37 8.06 31.37 10.04 31.37 14.19 33.39 14.19 33.79 14.19 33.79 16.23 45.58 16.23 45.58 14.19 43.27 14.19 43.27 12.12 33.79 12.12 33.79 10.04 43.27 10.04" />
                <path d="M8.34,20.85H25v4.69h2.48v2.34H48.57V25.54h2.62V23.1h9.09V20.85H65V19h-.43V16.68H50V19H26.56V15.21H24.44v-4.5H3.14V12.9H22.08v2.31H3.14v4.27h5.2Zm40.23,0V23.1H27.11V20.85Z" />
                <polygon points="6.64 24.32 6.64 26.22 6.64 28.18 11.03 28.18 11.03 30.07 20.38 30.07 20.38 28.18 20.38 26.22 17.77 26.22 17.77 24.32 6.64 24.32" />
                <polygon points="29.44 31.89 29.44 30.07 22.9 30.07 22.9 31.89 24.97 31.89 24.97 34.09 29.44 34.09 29.44 31.89" />
                <path d="M74.31,38.25h2.58V29.39H67.7V26.71h1.48v-2h-8.9v2H58.1v2.68H31.84v2.5h1.95v2.2H44v-2.2H46.4v2.2H44v2.27h4.25v1.89H56v2.27H58.1V43H65V40.52H63.39V38.25ZM51.19,36.36V31.89H74.31v4.47Z" />
                <path d="M4.36,39.21v2.14h7.07V39.21H18V36.83h2.34v-2.1h-2V33H11v1.74H4.36v2.1H8.81v2.38Zm8.05-4.48H15.7v2.1H12.41Z" />
                <polygon points="20.78 45.43 22.9 45.43 22.9 43.54 25.42 43.54 25.42 41.35 18.04 41.35 18.04 43.54 13.51 43.54 13.51 45.43 13.43 45.43 13.43 48.08 20.78 48.08 20.78 45.43" />
                <polygon points="33.22 36.66 30.48 36.66 30.48 39.21 27.78 39.21 27.78 41.35 33.22 41.35 33.22 39.21 33.22 36.66" />
                <polygon points="48.8 43.54 47.78 43.54 47.78 41.35 33.22 41.35 33.22 43.54 29.97 43.54 29.97 45.43 48.8 45.43 48.8 43.54" />
                <polygon points="58.55 54.06 63.39 54.06 63.39 51.94 63.39 49.88 58.51 49.88 58.51 47.66 51.19 47.66 51.19 45.43 48.8 45.43 48.8 47.66 29.97 47.66 29.97 45.43 27.45 45.43 27.45 49.88 29.97 49.88 53.71 49.88 53.71 51.94 58.55 51.94 58.55 54.06" />
                <polygon points="18.73 54.06 18.73 51.94 24.04 51.94 24.04 50.43 13.43 50.43 13.43 51.94 9.97 51.94 9.97 54.06 9.97 56.63 17.1 56.63 17.1 54.06 18.73 54.06" />
                <rect x="26.17" y="69.95" width="23.83" height="1.89" />
                <path d="M67.86,51.64v4.08h2.7v2.42h2v2H61V56.63H58.55V54.06H53.71V51.94H24v2.12H18.73v2.57H17.1V59.2H4.36V70H6.31v1.89H9.6V70h2.89V67.83h2.36V65H17.1v2.34H58.51V69H61v2.27h2.68V69H80.14V60.19H74.77v-2h5.37v-6.5ZM18.73,65V58.62H58.51V65Z" />
            </g>
        </g>

        <g id="plugin-screen" v-if="showPlugInScreen">
            <polygon points="10.1 18.6 10.1 40.44 24.31 40.44 24.31 62.27 59.74 62.27 59.74 40.44 72.63 40.44 72.63 18.6 10.1 18.6" />
            <text class="cls-2" transform="translate(13.75 38.31) scale(1.02 1)">plug<tspan x="8.26" y="21.14" xml:space="preserve"> in!</tspan></text>
            <text class="cls-3" transform="translate(13.75 38.31) scale(1.02 1)">plug<tspan x="8.26" y="21.14" xml:space="preserve"> in!</tspan></text>
            <polygon points="31.02 3.58 31.02 2.84 8.63 2.84 8.63 3.58 11.03 3.58 11.03 5.46 33.51 5.46 33.51 3.58 31.02 3.58" />
            <polygon points="3.7 5.65 3.7 3.77 3.14 3.77 3.14 5.65 3.14 7.57 6.1 7.57 6.1 5.65 3.7 5.65" />
            <polygon points="23.64 13.15 23.64 11.06 23.64 9.39 3.14 9.39 3.14 11.06 21.07 11.06 21.07 13.15 3.14 13.15 3.14 16.72 25.9 16.72 25.9 13.15 23.64 13.15" />
            <polygon points="43.68 12.69 43.68 11.06 33.66 11.06 33.66 9.39 43.68 9.39 43.68 7.57 33.66 7.57 31.17 7.57 31.17 13.15 33.66 13.15 33.66 14.94 45.74 14.94 45.74 12.69 43.68 12.69" />
            <path d="M75.75,3.55H48.47V7.34H46.21v5.58H73.4V10.83h2.35V9.09h2.63V3.55Zm0,3.79H51V5.44H75.75Z" />
            <polygon points="75.5 13.15 75.5 14.94 72.77 14.94 72.77 16.72 80.14 16.72 80.14 14.94 80.14 13.15 75.5 13.15" />
            <rect x="51.01" y="14.94" width="14.86" height="1.79" />
            <rect x="10.92" y="42.71" width="4.64" height="2.29" />
            <rect x="3.14" y="30.5" width="0.54" height="2.59" />
            <rect x="3.14" y="35.39" width="0.54" height="2.45" />
            <polygon points="15.62 47.37 10.92 47.37 10.92 49.67 6.02 49.67 6.02 54.62 13.27 54.62 13.27 52.22 15.62 52.22 15.62 47.37" />
            <polygon points="13.27 54.57 13.27 56.92 3.14 56.92 3.14 64.15 3.14 70.77 6.02 70.77 6.02 69.09 8.51 69.09 8.51 66.62 10.92 66.62 10.92 64.15 15.56 64.15 15.56 56.92 15.56 54.57 13.27 54.57" />
            <rect x="13.27" y="64.15" width="52.37" height="2.71" />
            <rect x="22.85" y="69.15" width="24.03" height="2.69" />
            <polygon points="65.65 59.45 65.65 69.15 67.22 69.15 67.22 70.65 68.86 70.65 68.86 69.15 80.14 69.15 80.14 59.45 65.65 59.45" />
            <polygon points="68.64 49.75 68.64 54.51 70.68 54.51 70.68 56.86 73.09 56.86 73.09 59.45 75.41 59.45 75.41 56.86 80.14 56.86 80.14 54.51 80.14 49.75 68.64 49.75" />
        </g>				
    </svg>   
  </g>
</template>

<script>
import { Howl } from 'howler';
import { TimelineLite } from "gsap";
import { SceneNames } from '../../../../global/constants';

export default {
  name: "PlugIn",
  data() {
    return {
      showPlugInScreen: false
    }
  },
  mounted() {
    if(this.$store.state.session.sound) {
        var sound = new Howl({
            src: require("../../../../assets/sounds/plug-in.mp3"),
            volume: 0.1
        });

        sound.play();
    }

    var timeLine = new TimelineLite({
        repeat: 4,
    });

    timeLine.to('#sprite_1', {display: 'none', duration: 0.3,  ease: "none"});
    timeLine.to('#sprite_2', {display: 'block', duration: 0.3,  ease: "none"});
    timeLine.set('#sprite_2', {display: 'none'});
    timeLine.to('#sprite_3', {display: 'block', duration: 0.3,  ease: "none"});
    timeLine.set('#sprite_3', {display: 'none'});
    timeLine.set('#sprite_1', {display: 'block'});

    timeLine.play().then(() => {
        sound.stop();
        this.showPlugInScreen = true;
        setTimeout(() => {
            this.$store.commit('session/setCurrentScene', SceneNames.Enemy);
        }, 2000);
    });
  },
  methods: {
  }
}
</script>

<style scoped lang="scss">
#sprite_2,
#sprite_3 {
    display: none;
}

.cls-1,.cls-3{fill:#fff;}.cls-2,.cls-3{font-size:17.61px;font-family:Advanced-PET-Font, Advanced PET Font;}
</style>